<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Docker Easy Parts | fastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Docker Easy Parts" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction to Docker Concepts" />
<meta property="og:description" content="Introduction to Docker Concepts" />
<link rel="canonical" href="https://hacstac.github.io/Notes/markdown/2020/08/29/Docker-Easy-Parts.html" />
<meta property="og:url" content="https://hacstac.github.io/Notes/markdown/2020/08/29/Docker-Easy-Parts.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-29T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Introduction to Docker Concepts","url":"https://hacstac.github.io/Notes/markdown/2020/08/29/Docker-Easy-Parts.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hacstac.github.io/Notes/markdown/2020/08/29/Docker-Easy-Parts.html"},"headline":"Docker Easy Parts","dateModified":"2020-08-29T00:00:00-05:00","datePublished":"2020-08-29T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/Notes/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://hacstac.github.io/Notes/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/Notes/images/favicon.ico"><link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/Notes/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Notes/about/">About Me</a><a class="page-link" href="/Notes/search/">Search</a><a class="page-link" href="/Notes/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Docker Easy Parts</h1><p class="page-description">Introduction to Docker Concepts</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-08-29T00:00:00-05:00" itemprop="datePublished">
        Aug 29, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      30 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/Notes/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#10-what-is-a-docker">1.0 What is a Docker</a>
<ul>
<li class="toc-entry toc-h3"><a href="#11-introduction">1.1 Introduction</a></li>
<li class="toc-entry toc-h3"><a href="#12-below-is-a-list-of-common-docker-terms">1.2 Below is a list of common Docker terms</a></li>
<li class="toc-entry toc-h3"><a href="#13-architecture-of-docker">1.3 Architecture of docker</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#20-installation">2.0 Installation</a></li>
<li class="toc-entry toc-h2"><a href="#30-docker-basics">3.0 Docker Basics</a>
<ul>
<li class="toc-entry toc-h3"><a href="#31-day-to-day-docker-commands">3.1 Day To Day Docker Commands</a></li>
<li class="toc-entry toc-h3"><a href="#32-getting-practical">3.2 Getting Practical</a>
<ul>
<li class="toc-entry toc-h5"><a href="#321-list-images">3.2.1 List Images</a></li>
<li class="toc-entry toc-h5"><a href="#322-startstoprestart">3.2.2 Start/Stop/Restart</a></li>
<li class="toc-entry toc-h5"><a href="#323-logs">3.2.3 Logs</a></li>
<li class="toc-entry toc-h5"><a href="#324-rename">3.2.4 Rename</a></li>
<li class="toc-entry toc-h5"><a href="#325-create-container">3.2.5 Create container</a></li>
<li class="toc-entry toc-h5"><a href="#326-example-run">3.2.6 Example Run</a></li>
<li class="toc-entry toc-h5"><a href="#327-docker-run-with-shell-variables">3.2.7 Docker Run with SHELL Variables</a></li>
<li class="toc-entry toc-h5"><a href="#328-env-variables">3.2.8 Env Variables</a></li>
<li class="toc-entry toc-h5"><a href="#329-with-read-only-option">3.2.9 With Read Only Option</a></li>
<li class="toc-entry toc-h5"><a href="#3210-inspect">3.2.10 Inspect</a></li>
<li class="toc-entry toc-h5"><a href="#3211-diff--filesystem-check-">3.2.11 Diff ( Filesystem check )</a></li>
<li class="toc-entry toc-h5"><a href="#3212-clean-up">3.2.12 Clean Up</a></li>
<li class="toc-entry toc-h5"><a href="#3213-executing-commands">3.2.13 Executing Commands</a></li>
<li class="toc-entry toc-h5"><a href="#3215-linking-containers-for-port-isolation">3.2.15 Linking containers for port isolation</a></li>
<li class="toc-entry toc-h5"><a href="#3216-search-a-docker-image">3.2.16 Search a Docker Image</a></li>
<li class="toc-entry toc-h5"><a href="#3217-cleanly-kill-containers">3.2.17 Cleanly Kill Containers</a></li>
<li class="toc-entry toc-h5"><a href="#3218-docker-prune">3.2.18 Docker Prune</a></li>
<li class="toc-entry toc-h5"><a href="#3219-space-occupied-by-docker-system">3.2.19 Space Occupied By docker System</a></li>
<li class="toc-entry toc-h5"><a href="#3220-container-stats">3.2.20 Container Stats</a></li>
<li class="toc-entry toc-h5"><a href="#3221-tag">3.2.21 Tag</a></li>
<li class="toc-entry toc-h5"><a href="#3222-commit">3.2.22 Commit</a></li>
<li class="toc-entry toc-h5"><a href="#3223-set-an-entrypoint">3.2.23 Set an EntryPoint</a></li>
<li class="toc-entry toc-h5"><a href="#3224-versioning-best-practice">3.2.24 Versioning Best Practice</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#33-states-of-docker">3.3 States of Docker</a>
<ul>
<li class="toc-entry toc-h5"><a href="#331-restart-state">3.3.1 Restart State</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#34-init--pid-systems-for-docker">3.4 Init &amp; PID Systems for Docker</a></li>
<li class="toc-entry toc-h3"><a href="#35-software-installation-simplified">3.5 Software Installation Simplified</a>
<ul>
<li class="toc-entry toc-h5"><a href="#351-installing-images-using-dockerfile">3.5.1 Installing Images using dockerfile</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#36-backup--restore-docker-images">3.6 Backup &amp; Restore Docker Images</a>
<ul>
<li class="toc-entry toc-h5"><a href="#361-comparison">3.6.1 Comparison</a></li>
<li class="toc-entry toc-h4"><a href="#362-getting-practical">3.6.2 Getting Practical</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#37-generating-dependency-graph-of-docker-image">3.7 Generating Dependency graph of Docker Image</a></li>
<li class="toc-entry toc-h3"><a href="#38-tricks-for-making-an-image-smaller">3.8 Tricks for Making an Image Smaller</a>
<ul>
<li class="toc-entry toc-h5"><a href="#381-method-1--reduce-the-size-of-third-party-image">3.8.1 Method 1 : Reduce the size of Third Party Image</a></li>
<li class="toc-entry toc-h5"><a href="#382-method-2--tiny-docker-images-with-busybox-and-alpine">3.8.2 Method 2 : Tiny Docker Images with BusyBox and Alpine</a></li>
<li class="toc-entry toc-h5"><a href="#383-method-3--the-go-model-of-minimal-containers">3.8.3 Method 3 : The GO model of minimal containers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#40-storage-volumes">4.0 Storage Volumes</a>
<ul>
<li class="toc-entry toc-h3"><a href="#41-day-to-day-volumes-command">4.1 Day To Day Volumes Command</a></li>
<li class="toc-entry toc-h3"><a href="#42-types-of-volumes">4.2 Types of Volumes</a>
<ul>
<li class="toc-entry toc-h5"><a href="#421-bind-mounts">4.2.1 Bind Mounts</a></li>
<li class="toc-entry toc-h5"><a href="#422-in-memory-storage">4.2.2 In-Memory Storage</a></li>
<li class="toc-entry toc-h5"><a href="#423-docker-volumes">4.2.3 Docker Volumes</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#43-moving-docker-to-a-different-partition">4.3 Moving Docker to a different Partition</a></li>
<li class="toc-entry toc-h3"><a href="#44-access-filesystem-from-docker-container">4.4 Access Filesystem from Docker Container</a></li>
<li class="toc-entry toc-h3"><a href="#45-share-volumes-across-the-internet">4.5 Share Volumes Across the internet</a></li>
<li class="toc-entry toc-h3"><a href="#46-using-a-centralized-data-volumes-for-containers">4.6 Using a Centralized Data Volumes For Containers</a></li>
<li class="toc-entry toc-h3"><a href="#47-mounting-the-remote-file-systems">4.7 Mounting the remote file systems</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#50-networks-in-docker">5.0 Networks in Docker</a>
<ul>
<li class="toc-entry toc-h3"><a href="#51-day-to-day-network-commands">5.1 Day To Day Network Commands</a></li>
<li class="toc-entry toc-h3"><a href="#52-examples">5.2 Examples</a>
<ul>
<li class="toc-entry toc-h5"><a href="#521-to-list-all-networks">5.2.1 To list all networks</a></li>
<li class="toc-entry toc-h5"><a href="#522-to-create-a-new-network">5.2.2 To Create a New Network</a></li>
<li class="toc-entry toc-h5"><a href="#523-create-a-another-bridge-network">5.2.3 Create a another bridge network</a></li>
<li class="toc-entry toc-h5"><a href="#524-with-network---none--means-container-with-no-external-excess">5.2.4 With Network - none : Means container with no external excess</a></li>
<li class="toc-entry toc-h5"><a href="#525-dns-with-docker">5.2.5 DNS with docker</a></li>
<li class="toc-entry toc-h5"><a href="#526-you-can-specify-a-specific-ip-address-for-a-container">5.2.6 You can specify a specific IP address for a container</a></li>
<li class="toc-entry toc-h5"><a href="#527-open-a-docker-daemon-to-the-world">5.2.7 Open a Docker Daemon to the World</a></li>
<li class="toc-entry toc-h5"><a href="#528-get-an-ip--ports-of-a-docker-container">5.2.8 Get an IP &amp; Ports of a Docker Container</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#60-limiting-risk-with-resource-controls">6.0 Limiting Risk with Resource Controls</a>
<ul>
<li class="toc-entry toc-h3"><a href="#61-memory-limits">6.1 Memory Limits</a></li>
<li class="toc-entry toc-h3"><a href="#62-cpu-limits">6.2 CPU Limits</a></li>
<li class="toc-entry toc-h3"><a href="#63-access-to-devices">6.3 Access to devices</a></li>
<li class="toc-entry toc-h3"><a href="#64-sharing-memory--ipc--interprocess-communication-">6.4 Sharing Memory ( IPC : Interprocess Communication )</a></li>
<li class="toc-entry toc-h3"><a href="#65-understanding-users">6.5 Understanding Users</a></li>
<li class="toc-entry toc-h3"><a href="#66-os-features-access-with-capabilities">6.6 OS features Access with Capabilities</a></li>
<li class="toc-entry toc-h3"><a href="#67-additional-security-with-docker">6.7 Additional Security with Docker</a></li>
<li class="toc-entry toc-h3"><a href="#68-using-socat-to-monitor-docker-api-traffic">6.8 Using Socat to monitor docker api traffic</a></li>
<li class="toc-entry toc-h3"><a href="#69-setting-timezone-in-containers">6.9 Setting TimeZone in Containers</a></li>
<li class="toc-entry toc-h3"><a href="#610-locale-management">6.10 Locale Management</a></li>
</ul>
</li>
</ul><h2 id="10-what-is-a-docker">
<a class="anchor" href="#10-what-is-a-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.0 What is a Docker</h2>

<hr>

<h3 id="11-introduction">
<a class="anchor" href="#11-introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.1 Introduction</h3>

<p><strong>Defination</strong> : Docker is a tool designed to make it easier to create, deploy, and run applications by using containers. Containers allow a developer to package up an application with all of the parts it needs, such as libraries and other dependencies, and ship it all out as one package.</p>

<p>Docker container technology was launched in 2013 as an open source Docker Engine. Containers encapsulate an application as a single executable package of software that bundles application code together with all of the related configuration files, libraries, and dependencies required for it to run.</p>

<p>Containerized applications are “isolated” in that they do not bundle in a copy of the operating system. Instead, an open source Docker engine is installed on the host’s operating system and becomes the conduit for containers to share an operating system with other containers on the same computing system.</p>

<p><img src="https://s3.ap-south-1.amazonaws.com/akash.r/Devops_Notes_screenshots/Docker/Docker_easy_parts/docker.png" alt="Docker"></p>

<p><img src="https://s3.ap-south-1.amazonaws.com/akash.r/Devops_Notes_screenshots/Docker/Docker_easy_parts/life_with_docker.png" alt="Life With Docker"></p>

<h3 id="12-below-is-a-list-of-common-docker-terms">
<a class="anchor" href="#12-below-is-a-list-of-common-docker-terms" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.2 Below is a list of common Docker terms</h3>

<ul>
  <li>
    <p><strong>Docker Engine</strong> is a client-server application with 3 major components - a server which is a type of long-running program called a daemon process; a REST API which specifies interfaces that programs can use to talk to the daemon and instruct it what to do; a command line interface (CLI) client.</p>
  </li>
  <li>
    <p><strong>Docker daemon</strong> (dockerd) listens for Docker API requests and manages Docker objects such as images, containers, networks, and volumes.</p>
  </li>
  <li>
    <p><strong>Docker client</strong> (docker) is the primary way that many Docker users interact with Docker. When you use commands such as docker run, the client sends these commands to dockerd, which carries them out. The docker command uses the Docker API. The Docker client can communicate with more than one daemon.</p>
  </li>
  <li>
    <p><strong>Image</strong> is a read-only template with instructions for creating a Docker container. You might create your own images or you might only use those created by others and published in a registry. To build your own image, you create a Dockerfile with a simple syntax for defining the steps needed to create the image and run it.</p>
  </li>
  <li>
    <p><strong>Docker registry</strong> stores Docker images. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default.</p>
  </li>
  <li>
    <p><strong>Container</strong> is a runnable instance of an image. Containers are made possible by operating system (OS) process isolation and virtualization, which enable multiple application components to share the resources of a single instance of an OS kernel.</p>
  </li>
</ul>

<h3 id="13-architecture-of-docker">
<a class="anchor" href="#13-architecture-of-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.3 Architecture of docker</h3>

<p>Docker on your host machine is (at the time of writing) split into two parts—a daemon with a RESTful API and a client that talks to the daemon. You invoke the Docker client to get information from or give instructions to the
daemon; the daemon is a server that receives requests and returns responses from the client using the HTTP protocol. In turn, it will make requests to other services to send and receive images, also using the HTTP protocol. The server will accept requests from the command-line client or anyone else authorized to connect. The daemon is also responsible for taking care of your images and containers behind the scenes, whereasthe client acts as the intermediary between you and the RESTful API.</p>

<p><img src="https://s3.ap-south-1.amazonaws.com/akash.r/Devops_Notes_screenshots/Docker/Docker_easy_parts/Docker_architecture.png" alt="Docker Architecture"></p>

<p><img src="https://s3.ap-south-1.amazonaws.com/akash.r/Devops_Notes_screenshots/Docker/Docker_easy_parts/working_docker_run.png" alt="working_docker_run"></p>

<hr>

<hr>

<h2 id="20-installation">
<a class="anchor" href="#20-installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.0 Installation</h2>

<hr>

<ul>
  <li>
<strong>Docker</strong> can operate on most of the Operating Systems In Industries : Windows, MacOS, Most Of flavours of Linux ( Ubuntu, RHEL, Arch)</li>
  <li>Docker Operates on both AMD64 and ARM Based Systems</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Simple script to install docker on Linux</span>
<span class="nv">$ </span>curl <span class="nt">-sSL</span> https://get.docker.com/ | sh

<span class="c"># Check Docker Verison</span>
<span class="nv">$ </span>docker version <span class="nt">--format</span> <span class="s1">''</span>
19.03.8

<span class="c"># Dump Raw JSON DATA : Like Kernel, Architecture , details , build time etc</span>
<span class="nv">$ </span>docker version <span class="nt">--format</span> <span class="s1">''</span>

<span class="c"># Running Docker without sudo</span>
<span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker username
or
<span class="nv">$ </span><span class="nb">sudo </span>addgroup <span class="nt">-a</span> username docker
<span class="c"># restart docker</span>
</code></pre></div></div>

<hr>

<hr>

<h2 id="30-docker-basics">
<a class="anchor" href="#30-docker-basics" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.0 Docker Basics</h2>

<hr>

<h3 id="31-day-to-day-docker-commands">
<a class="anchor" href="#31-day-to-day-docker-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 Day To Day Docker Commands</h3>

<hr>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">docker create</code> creates a container but does not start it.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker rename</code> allows the container to be renamed.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker run</code> creates and starts a container in one operation.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker rm</code> deletes a container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker update</code> updates a container’s resource limits.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker images</code> shows all images.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker cp</code> copies files or folders between a container and the local filesystem.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker build</code> creates image from Dockerfile.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker commit</code> creates image from a container, pausing it temporarily if it is running.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker rmi</code> removes an image.</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">docker start</code> starts a container so it is running.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker stop</code> stops a running container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker restart</code> stops and starts a container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker pause</code> pauses a running container, “freezing” it in place.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker unpause</code> will unpause a running container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker wait</code> blocks until running container stops.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker kill</code> sends a SIGKILL to a running container.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker attach</code> will connect to a running container.</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">docker ps</code> shows running containers.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker logs</code> gets logs from container. (You can use a custom log driver, but logs is only available for json-file and journald in 1.10).</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker inspect</code> looks at all the info on a container (including IP address).</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker events</code> gets events from container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker port</code> shows public facing port of container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker top</code> shows running processes in container.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker stats</code> shows containers’ resource usage statistics.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker diff</code> shows changed files in the container’s FS.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker history</code> shows history of image.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker tag</code> tags an image to a name (local or registry).</li>
</ul>

<hr>

<h3 id="32-getting-practical">
<a class="anchor" href="#32-getting-practical" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 Getting Practical</h3>

<hr>

<h5 id="321-list-images">
<a class="anchor" href="#321-list-images" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.1 List Images</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker images // show images
docker ps <span class="nt">-a</span>
docker ps // shows started containers <span class="nt">-a</span> <span class="o">=</span> all containers
</code></pre></div></div>

<h5 id="322-startstoprestart">
<a class="anchor" href="#322-startstoprestart" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.2 Start/Stop/Restart</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stop/start/restart
</code></pre></div></div>

<p><strong>Note</strong> : If you want to detach from a running container, use Ctrl + P, Ctrl + Q.
If you want to integrate a container with a host process manager, start the daemon with -r=false then use docker start -a.</p>

<h5 id="323-logs">
<a class="anchor" href="#323-logs" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.3 Logs</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker logs <span class="o">{</span>Name_of_container<span class="o">}</span>
</code></pre></div></div>

<h5 id="324-rename">
<a class="anchor" href="#324-rename" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.4 Rename</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rename new_name current_name // rename container
</code></pre></div></div>

<h5 id="325-create-container">
<a class="anchor" href="#325-create-container" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.5 Create container</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker create nginx // will only create a container
</code></pre></div></div>

<h5 id="326-example-run">
<a class="anchor" href="#326-example-run" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.6 Example Run</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--interactive</span> <span class="nt">--tty</span> <span class="se">\</span>
 <span class="nt">--link</span> web:web <span class="se">\</span>
 <span class="nt">--name</span> web_test <span class="se">\</span>
 busybox:1.29 /bin/sh

 <span class="nt">---</span>
  <span class="nt">-d</span> <span class="o">=</span> detach automatically the container <span class="o">(</span>run container <span class="k">in </span>background and print container ID<span class="o">)</span>
 <span class="nt">--interactive</span>
 <span class="nt">--tty</span> or <span class="nt">-t</span> that will allocate a pseudo-TTY session
 <span class="nt">--link</span> <span class="o">=</span> <span class="nb">link </span>to other container
 <span class="nt">--name</span> <span class="o">=</span> name of docker container
 <span class="nt">---</span>
<span class="nv">$ </span>docker <span class="nb">exec </span>web_test ps // show extra process run with this containers
</code></pre></div></div>

<h5 id="327-docker-run-with-shell-variables">
<a class="anchor" href="#327-docker-run-with-shell-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.7 Docker Run with SHELL Variables</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
 <span class="nv">CID</span><span class="o">=</span><span class="si">$(</span>docker create nginx:latest<span class="si">)</span>
 <span class="nb">echo</span> <span class="nv">$CID</span> // assigns to a Shell variable
 <span class="nv">MAILER_CID</span><span class="o">=</span><span class="si">$(</span>docker run <span class="nt">-d</span> dockerinaction/ch2_mailer<span class="si">)</span>
 <span class="nv">WEB_CID</span><span class="o">=</span><span class="si">$(</span>docker create nginx<span class="si">)</span>
<span class="nt">---</span>
<span class="nv">$ </span>docker start <span class="nv">$AGENT_CID</span>
<span class="nv">$ </span>docker start <span class="nv">$WEB_CID</span>
</code></pre></div></div>

<h5 id="328-env-variables">
<a class="anchor" href="#328-env-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.8 Env Variables</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> wpdb <span class="se">\</span>
 <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>ch2demo <span class="se">\</span>
 mysql:5.7

<span class="nv">$ </span>docker run <span class="nt">--env</span> <span class="nv">MY_ENVIRONMENT_VAR</span><span class="o">=</span><span class="s2">"this is a test"</span> <span class="se">\ </span>busybox:1.29 <span class="se">\ </span><span class="nb">env</span>
<span class="c"># --env flag, or -e for short, can be used to inject any environment variable.</span>
</code></pre></div></div>

<h5 id="329-with-read-only-option">
<a class="anchor" href="#329-with-read-only-option" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.9 With Read Only Option</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-d</span> <span class="nt">--name</span> wp <span class="nt">--read-only</span> wordpress:5.0.0-php7.2-apache  // create a container with only <span class="nb">readonly </span>options
</code></pre></div></div>

<h5 id="3210-inspect">
<a class="anchor" href="#3210-inspect" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.10 Inspect</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#  The docker inspect command will display all the metadata(JSON)</span>
<span class="nv">$ </span>docker inspect <span class="nt">--format</span> <span class="s2">""</span> wp // Prints <span class="nb">true </span><span class="k">if </span>container is running
<span class="nv">$ </span>docker inspect <span class="nt">--format</span> <span class="s2">""</span> Id/name // Show ip of container
</code></pre></div></div>

<h5 id="3211-diff--filesystem-check-">
<a class="anchor" href="#3211-diff--filesystem-check-" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.11 Diff ( Filesystem check )</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> wp_writable wordpress:5.0.0-php7.2-apache

<span class="c"># let’s check where Apache changed the container’s filesystem with the docker</span>
<span class="nv">$ </span>docker container diff wp_writable

A - A file or directory was added
D - A file or directory was deleted
C - A file or directory was changed
<span class="nt">---</span>
C /run
C /run/apache2
A /run/apache2/apache2.pid
<span class="nt">---</span>
</code></pre></div></div>

<h5 id="3212-clean-up">
<a class="anchor" href="#3212-clean-up" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.12 Clean Up</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">rm</span> <span class="nt">-f</span> <span class="o">{</span>container_ID<span class="o">)</span>
docker <span class="nb">rm</span> <span class="nt">-vf</span> <span class="si">$(</span>docker ps <span class="nt">-a</span> <span class="nt">-q</span><span class="si">)</span>
docker rmi <span class="o">[</span>name] // Remove an image
</code></pre></div></div>

<h5 id="3213-executing-commands">
<a class="anchor" href="#3213-executing-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.13 Executing Commands</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># docker exec to execute a command in container.</span>

<span class="c"># To enter a running container, attach a new shell process to a running container called foo, use:</span>
<span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> foo /bin/bash.

<span class="c"># exec Modes :</span>
<span class="c"># 1 Basic : Runs the command in the container synchronously on the command line</span>
<span class="nv">$ </span>docker <span class="nb">exec </span>name_of_container <span class="nb">echo</span> <span class="s2">"Hello User"</span>
Hello User

<span class="c"># 2 Daemon : Runs the command in the background on the container</span>
<span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-d</span> name_C <span class="se">\</span>
find / <span class="nt">-ctime</span> 7 <span class="nt">-name</span> <span class="s1">'*log'</span> <span class="nt">-exec</span> <span class="nb">rm</span> <span class="o">{}</span> <span class="se">\;</span>

<span class="c"># 3 Interactive : Runs the command and allows the user to interact with it</span>
<span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> ubuntu /bin/bash
</code></pre></div></div>

<h5 id="3215-linking-containers-for-port-isolation">
<a class="anchor" href="#3215-linking-containers-for-port-isolation" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.15 Linking containers for port isolation</h5>

<p><strong>Note</strong> : This is an older method of declaring container communication—Docker’s link flag. This isn’t the recommended way of working anymore.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example</span>
<span class="c">#  This will allow us communication between containers without using user-defined networks.</span>
<span class="nv">$ </span>docker run <span class="nt">--name</span> wp-mysql <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>yoursecretpassword <span class="nt">-d</span> mysql
<span class="nv">$ </span>docker run <span class="nt">--name</span> wordpress <span class="nt">--link</span> wp-mysql:mysql <span class="nt">-p</span> 10003:80 <span class="nt">-d</span>  wordpress
</code></pre></div></div>

<h5 id="3216-search-a-docker-image">
<a class="anchor" href="#3216-search-a-docker-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.16 Search a Docker Image</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker search node
docker pull node // Pull the Image by Name <span class="o">(</span> on Hub <span class="o">)</span>
docker run <span class="nt">-it</span> node /bin/bash <span class="o">(</span> Start Node Container <span class="o">)</span>
</code></pre></div></div>

<h5 id="3217-cleanly-kill-containers">
<a class="anchor" href="#3217-cleanly-kill-containers" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.17 Cleanly Kill Containers</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Always use docker stop ( it actually stops the containers ).</span>
<span class="c"># Docker kill will send immediate signal which will kill process while running ( so they can create temp files )</span>
<span class="nt">---</span>
<span class="nb">kill           </span>Term     15
docker <span class="nb">kill    </span>Kill      9
docker stop    Term     15
<span class="nt">---</span>
</code></pre></div></div>

<h5 id="3218-docker-prune">
<a class="anchor" href="#3218-docker-prune" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.18 Docker Prune</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Prune commands</span>

    docker system prune
    docker volume prune
    docker network prune
    docker container prune
    docker image prune

<span class="c"># Example</span>

<span class="c"># Nuclear Option ( if you want to remove all containers of your host machine ) [Removes all : Runnig &amp; exited]</span>
<span class="nv">$ </span>docker ps <span class="nt">-a</span> <span class="nt">-q</span> | xargs <span class="nt">--no-run-if-empty</span> docker <span class="nb">rm</span> <span class="nt">-f</span>

<span class="c"># To keep running containers</span>
<span class="nv">$ </span>docker ps <span class="nt">-a</span> <span class="nt">-q</span> <span class="nt">--filter</span> <span class="nv">status</span><span class="o">=</span>exited | xargs <span class="nt">--no-run-if-empty</span> docker <span class="nb">rm</span>

<span class="c"># To list out all exited &amp; failed Containers</span>
<span class="nv">$ </span><span class="nb">comm</span> <span class="nt">-3</span> <span class="se">\</span>
&lt;<span class="o">(</span>docker ps <span class="nt">-a</span> <span class="nt">-q</span> <span class="nt">--filter</span><span class="o">=</span><span class="nv">status</span><span class="o">=</span>exited | <span class="nb">sort</span><span class="o">)</span> <span class="se">\</span>
&lt;<span class="o">(</span>docker ps <span class="nt">-a</span> <span class="nt">-q</span> <span class="nt">--filter</span><span class="o">=</span><span class="nv">exited</span><span class="o">=</span>0 | <span class="nb">sort</span><span class="o">)</span> | <span class="se">\</span>
xargs <span class="nt">--no-run-if-empty</span> docker inspect <span class="o">&gt;</span> error_containers

<span class="c"># Prune Volumes</span>
<span class="c"># List out all docker voluems</span>
<span class="nv">$ </span>docker volume <span class="nb">ls</span>

<span class="c"># Delete Unused Volumes</span>
<span class="nv">$ </span>docker volume prune
</code></pre></div></div>

<h5 id="3219-space-occupied-by-docker-system">
<a class="anchor" href="#3219-space-occupied-by-docker-system" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.19 Space Occupied By docker System</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker system <span class="nb">df
</span>TYPE                TOTAL               ACTIVE              SIZE                RECLAIMABLE
Images              7                   1                   1.963GB             1.885GB <span class="o">(</span>95%<span class="o">)</span>
Containers          1                   1                   0B                  0B
Local Volumes       2                   1                   242.4MB             242.3MB <span class="o">(</span>99%<span class="o">)</span>
Build Cache         0                   0                   0B                  0B
</code></pre></div></div>

<h5 id="3220-container-stats">
<a class="anchor" href="#3220-container-stats" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.20 Container Stats</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker stats ID
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT    MEM %               NET I/O             BLOCK I/O           PIDS
</code></pre></div></div>

<h5 id="3221-tag">
<a class="anchor" href="#3221-tag" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.21 Tag</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image tag ubuntu-git:latest ubuntu-git:2.7
</code></pre></div></div>

<h5 id="3222-commit">
<a class="anchor" href="#3222-commit" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.22 Commit</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker container commit <span class="nt">-a</span> <span class="s2">"@dockerinaction"</span> <span class="nt">-m</span> <span class="s2">"Added git"</span> <span class="se">\</span>
  image-dev ubuntu-git
<span class="c"># Outputs a new unique image identifier like:</span>
<span class="c"># bbf1d5d430cdf541a72ad74dfa54f6faec41d2c1e4200778e9d4302035e5d143</span>

<span class="c"># Build a New Image For Commited Image</span>
<span class="nv">$ </span>docker container run <span class="nt">-d</span> ubuntu-git
</code></pre></div></div>

<h5 id="3223-set-an-entrypoint">
<a class="anchor" href="#3223-set-an-entrypoint" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.23 Set an EntryPoint</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container run <span class="nt">--name</span> cmd-git <span class="nt">--entrypoint</span> git ubuntu-git
</code></pre></div></div>

<hr>

<h5 id="3224-versioning-best-practice">
<a class="anchor" href="#3224-versioning-best-practice" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2.24 Versioning Best Practice</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Docker official Repo's are the best example of tagging an image</span>
<span class="c"># Example for go lang</span>
 1.x
 1.9
 1.9.6
 1.9-stretch
 1.10-alpine
 latest
 <span class="c"># this is an example of tags to build that don't confuse the end user</span>
</code></pre></div></div>

<hr>

<h3 id="33-states-of-docker">
<a class="anchor" href="#33-states-of-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.3 States of Docker</h3>

<p><strong>Docker container can be in one of six states:</strong></p>

<ul>
  <li>Created</li>
  <li>Running</li>
  <li>Restarting</li>
  <li>Paused</li>
  <li>Removing</li>
  <li>Exited (also used if the container has never been started)</li>
</ul>

<hr>

<ul>
  <li>
<strong>Created</strong> : A container that has been created (e.g. with docker create) but not started</li>
  <li>
<strong>Running</strong> : A currently running container</li>
  <li>
<strong>Paused</strong> : A container whose processes have been paused</li>
  <li>
<strong>Exited</strong> : A container that ran and completed (“stopped” in other contexts, although a created container is technically also “stopped”)</li>
  <li>
<strong>Dead</strong> : A container that the daemon tried and failed to stop (usually due to a busy device or resource used by the container)</li>
  <li>
<strong>Restarting</strong> : A container that is in the process of being restarted</li>
</ul>

<h5 id="331-restart-state">
<a class="anchor" href="#331-restart-state" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.3.1 Restart State</h5>

<p>Using the <code class="language-plaintext highlighter-rouge">--restart</code> flag at container-creation time, you can tell Docker to do any of the following:</p>

<ul>
  <li>Never restart (default)</li>
  <li>Attempt to restart when a failure is detected</li>
  <li>Attempt for some predetermined time to restart when a failure is detected</li>
  <li>
    <p>Always restart the container regardless of the condition</p>
  </li>
  <li>
<strong>Methods</strong>
    <ul>
      <li>no = = Don’t restart when the container exits</li>
      <li>always == Always restart when the container exits</li>
      <li>unless-stopped == Always restart, but remember explicitly stopping</li>
      <li>on-failure[:max-retry] == Restart only on failure</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example Run</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> backoff-detector <span class="nt">--restart</span> always busybox:1.29 <span class="nb">date</span>
<span class="nv">$ </span>docker logs <span class="nt">-f</span> backoff-detector
</code></pre></div></div>

<hr>

<h3 id="34-init--pid-systems-for-docker">
<a class="anchor" href="#34-init--pid-systems-for-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.4 Init &amp; PID Systems for Docker</h3>

<p>Several such init systems could be used inside a container. The most popular include <code class="language-plaintext highlighter-rouge">runit, Yelp/dumb-init, tini, supervisord, and tianon/gosu</code> .</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 <span class="nt">--name</span> lamp-test tutum/lamp
<span class="nv">$ </span>docker top lamp-test
<span class="nv">$ </span>docker <span class="nb">exec </span>lamp-test ps
<span class="nv">$ </span>docker <span class="nb">exec </span>lamp-test <span class="nb">kill</span> &lt;PID&gt; // <span class="nb">kill </span>a process

<span class="nv">$ </span>docker run <span class="nt">--entrypoint</span><span class="o">=</span><span class="s2">"cat"</span> <span class="se">\</span>
 wordpress:5.0.0-php7.2-apache <span class="se">\</span>
 /usr/local/bin/docker-entrypoint.sh

<span class="c"># If you run through the displayed script, you’ll see how it validates the environment variables against the dependencies of the software and sets default values. Once the script has validated that WordPress can execute</span>
</code></pre></div></div>

<hr>

<h3 id="35-software-installation-simplified">
<a class="anchor" href="#35-software-installation-simplified" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.5 Software Installation Simplified</h3>

<p><strong>Three main ways to install Docker images:</strong></p>

<ul>
  <li>Using Docker registries</li>
  <li>Using image files with docker save and docker load</li>
  <li>Building images with Dockerfiles</li>
</ul>

<p><strong>we can install software in three other ways:</strong></p>

<ul>
  <li>You can use alternative repository registries or run your own registry.</li>
  <li>You can manually load images from a file.</li>
  <li>You can download a project from some other source and build an image by using a provided Dockerfile.</li>
</ul>

<p>Note : - Keep in mind for Tags with images [latest, stable, alpha, Beta]</p>

<ul>
  <li>Download image from another regestry instead of docker hub : <code class="language-plaintext highlighter-rouge">docker pull quay.io/dockerinaction/ch3_hello_registry:latest</code>
</li>
  <li><code class="language-plaintext highlighter-rouge">[REGISTRYHOST:PORT/][USERNAME/]NAME[:TAG]</code></li>
</ul>

<h5 id="351-installing-images-using-dockerfile">
<a class="anchor" href="#351-installing-images-using-dockerfile" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.5.1 Installing Images using dockerfile</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/dockerinaction/ch3_dockerfile.git
docker build <span class="nt">-t</span> dia_ch3/dockerfile:latest ch3_dockerfile
</code></pre></div></div>

<hr>

<h3 id="36-backup--restore-docker-images">
<a class="anchor" href="#36-backup--restore-docker-images" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.6 Backup &amp; Restore Docker Images</h3>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">docker export</code> turns container filesystem into tarball archive stream to STDOUT.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker import</code> creates an image from a tarball.</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker load</code> loads an image from a tar archive as STDIN, including images and tags (as of 0.7).</li>
  <li>
<code class="language-plaintext highlighter-rouge">docker save</code> saves an image to a tar archive stream to STDOUT with all parent layers, tags &amp; versions (as of 0.7).</li>
</ul>

<h5 id="361-comparison">
<a class="anchor" href="#361-comparison" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.6.1 Comparison</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Docker export : Container To TAR
Docker Import : TAR to Image
Docker save   : Image To TAR
Docker load   : TAR to Image
</code></pre></div></div>

<h4 id="362-getting-practical">
<a class="anchor" href="#362-getting-practical" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.6.2 Getting Practical</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker login/logout // get access to private repo on docker hub
<span class="nv">$ </span>docker save <span class="o">[</span>image_name]
<span class="nv">$ </span>docker save <span class="nt">-o</span> myfile.tar image_name:latest // saves <span class="nb">tar </span>file <span class="k">in </span>current directory
<span class="nv">$ </span>docker load –i myfile.tar

<span class="c"># Load/Save image</span>

- Load an image from file:
<span class="nv">$ </span>docker load &lt; my_image.tar.gz

<span class="c"># Save an existing image:</span>
<span class="nv">$ </span>docker save my_image:my_tag | <span class="nb">gzip</span> <span class="o">&gt;</span> my_image.tar.gz

<span class="c"># Import/Export container</span>
<span class="c"># Import a container as an image from file:</span>
<span class="nv">$ </span><span class="nb">cat </span>my_container.tar.gz | docker import - my_image:my_tag

<span class="c"># Export an existing container:</span>
<span class="nv">$ </span>docker <span class="nb">export </span>my_container | <span class="nb">gzip</span> <span class="o">&gt;</span> my_container.tar.gz

<span class="c"># Difference between loading a saved image and importing an exported container as an image</span>
Loading an image using the load <span class="nb">command </span>creates a new image including its history.
Importing a container as an image using the import <span class="nb">command </span>creates a new image excluding the <span class="nb">history </span>which results <span class="k">in </span>a smaller image size compared to loading an image.

<span class="c"># Save the State of Docker Image:</span>
<span class="c"># we can save the state of image by commiting ( like we do in source control )</span>
<span class="nv">$ </span>docker commit my_container
<span class="c"># Creates a new Image ID</span>

<span class="c"># Restore State of Conatiner</span>
<span class="nv">$ </span>docker run <span class="o">[</span>options] New_Image_ID

<span class="c"># There is problem here. Docker Images ID's are 256Bit long, So there is no way to remember. what stuff we commit ( solution : is Tagging )</span>

<span class="c"># Tag</span>
<span class="nv">$ </span>docker tag ID_OF_IMAGE imagename
<span class="nv">$ </span>docker run imagename <span class="o">(</span> instead of 256Bit long ID <span class="o">)</span>

<span class="c"># We can also Reffer to a specific image in builds</span>
<span class="c"># mention ID of Specific Build of Image ( like we did in previous steps ) and use it docker file.</span>
<span class="c"># Remember : This is image is locally available ( docker is not looking this on Docker HUB )</span>

FROM 8eaa4ff06b53

<span class="c">##  Walkthrough of Saving States</span>
<span class="c"># Install 2048 Game ( for this we need VNC viewer ( TigerVNC )</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 5901:5901 <span class="nt">-p</span> 6080:6080 <span class="nt">--name</span> win2048 imiell/win2048
<span class="nv">$ </span>vncviewer localhost:1 <span class="o">(</span>:1 If you have no X display on host <span class="o">)</span>
<span class="c"># connect to port 5901 &amp; default password for vnc viewer is 'vncpass'</span>
<span class="c"># Save a Game ( Commit Container )</span>
<span class="nv">$ </span>docker commit win2048 1<span class="o">((</span>co14-1<span class="o">))</span>
<span class="nv">$ </span>docker tag ID 2048tag:<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span>

<span class="c"># Return To the Save Game</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 5901:5901 <span class="nt">-p</span> 6080:6080 <span class="nt">--name</span> win2048 my2048tag:<span class="nv">$mytag</span>
</code></pre></div></div>

<hr>

<h3 id="37-generating-dependency-graph-of-docker-image">
<a class="anchor" href="#37-generating-dependency-graph-of-docker-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.7 Generating Dependency graph of Docker Image</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># genrate a tree of dependecies of image</span>
<span class="nv">$ </span>git clone https://github.com/docker-in-practice/docker-image-graph
<span class="nv">$ </span><span class="nb">cd </span>docker-image-graph
<span class="nv">$ </span>docker build <span class="nt">-t</span> dockerinpractice/docker-image-graph
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock dockerinpractice/docker-image-graph <span class="o">&gt;</span> docker_images.png
</code></pre></div></div>

<hr>

<h3 id="38-tricks-for-making-an-image-smaller">
<a class="anchor" href="#38-tricks-for-making-an-image-smaller" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.8 Tricks for Making an Image Smaller</h3>

<h5 id="381-method-1--reduce-the-size-of-third-party-image">
<a class="anchor" href="#381-method-1--reduce-the-size-of-third-party-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.8.1 Method 1 : Reduce the size of Third Party Image</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Step 1 : Remove Unnecessary file</span>
<span class="c"># Step 2 : Flatten the Image ( describe in this book )</span>
<span class="c"># Step 3 : Check Which Packages we dont need ( $ dpkg -l | awk '{print $2}'</span>
<span class="c"># Step 4 : Remove Packages ( apt-get purge -y package name )</span>
<span class="c"># Step 5 : Clean the cache ( apt-get autoremove, apt-get clean )</span>
<span class="c"># Step 6 : Remove all the man pages and other doc files :</span>
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> /usr/share/doc/<span class="k">*</span> /usr/share/man/<span class="k">*</span> /usr/share/info/<span class="k">*</span>
<span class="c"># Step 7 : Clean the Temp data &amp; logs in (/var)</span>
<span class="nv">$ </span>find /var | <span class="nb">grep</span> <span class="s1">'\.log$'</span> | xargs <span class="nb">rm</span> <span class="nt">-v</span>

<span class="c"># Step 8 : Commit The Image ( These Steps Creates a Much Smaller Image )</span>
</code></pre></div></div>

<h5 id="382-method-2--tiny-docker-images-with-busybox-and-alpine">
<a class="anchor" href="#382-method-2--tiny-docker-images-with-busybox-and-alpine" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.8.2 Method 2 : Tiny Docker Images with BusyBox and Alpine</h5>

<p>Small, usable OSs that can be embedded onto a low-power or cheap computer have existed since Linux began.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># BusyBox ( Weight of BusyBox 2.5 MB )</span>
<span class="c"># BusyBox is so small ( so it can't uses the bash. It uses ash )</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> busybox /bin/ash

<span class="c"># problem is that busybox don't uses any package manager : so for installing packages</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> progrium/busybox /bin/ash <span class="o">(</span>Size: 5 MB <span class="o">)</span>
<span class="c"># its uses opkg package manager</span>
<span class="nv">$ </span>opkg-install bash <span class="o">&gt;</span> /dev/null
<span class="nv">$ </span>bash <span class="o">(</span> Size of contianer is 6 MB with Bash Shell <span class="o">)</span>
<span class="o">(</span> get ready to play with bash <span class="o">)</span>

<span class="c"># Alpine ( 36 MB )</span>
<span class="nt">---</span> Package Manager : APK
FROM gliderlabs/alpine:3.6
RUN apk-install mysql-client
ENTRYPOINT <span class="o">[</span><span class="s2">"mysql"</span><span class="o">]</span>
<span class="nt">---</span>

list of packages : https://pkgs.alpinelinux.org/packages
</code></pre></div></div>

<h5 id="383-method-3--the-go-model-of-minimal-containers">
<a class="anchor" href="#383-method-3--the-go-model-of-minimal-containers" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.8.3 Method 3 : The GO model of minimal containers</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># we can minimal Web server with go [ 5 MB Web Server ]</span>
https://github.com/docker-in-practice/go-web-server

<span class="nt">---</span> Dockerfile
FROM golang:1.4.2
RUN <span class="nv">CGO_ENABLED</span><span class="o">=</span>0 go get <span class="se">\</span>
<span class="nt">-a</span> <span class="nt">-ldflags</span> <span class="s1">'-s'</span> <span class="nt">-installsuffix</span> cgo <span class="se">\</span>
github.com/docker-in-practice/go-web-server
CMD <span class="o">[</span><span class="s2">"cat"</span>,<span class="s2">"/go/bin/go-web-server"</span><span class="o">]</span>
<span class="nt">---</span>

<span class="nv">$ </span>docker build <span class="nt">-t</span> go-webserver <span class="nb">.</span>
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> go-web-server <span class="o">&amp;&amp;</span> <span class="nb">cd </span>go-web-server
<span class="nv">$ </span>docker run go-webserver <span class="o">&gt;</span> go-web-server
<span class="nv">$ </span><span class="nb">chmod</span> +x go-web-server
<span class="nv">$ </span><span class="nb">echo </span>Hi <span class="o">&gt;</span> page.html

<span class="nt">---</span>
FROM scratch
ADD go-web-server /go-web-server
ADD page.html /page.html
ENTRYPOINT <span class="o">[</span><span class="s2">"/go-web-server"</span><span class="o">]</span>

<span class="nv">$ </span>docker build <span class="nt">-t</span> go-web-server <span class="nb">.</span>
<span class="nv">$ </span>docker images | <span class="nb">grep </span>go-web-server
<span class="nv">$ </span>docker run <span class="nt">-p</span> 8080:8080 go-web-server <span class="nt">-port</span> 8080
</code></pre></div></div>

<p><strong>Note</strong> : Remember One Large image is much efficient than some small images : Because it saves space on your HDD and save network bandwidth also &amp; Easy to maintainable.</p>

<p><strong>Example</strong> : One Ubuntu Image with Node, Python, Nginx and other services ( around 1GB) (assigns only 1 IP)
Many small container are request internet ( so they consume bandwidth more &amp; also they will consume more space than 1 GB )</p>

<hr>

<hr>

<h2 id="40-storage-volumes">
<a class="anchor" href="#40-storage-volumes" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.0 Storage Volumes</h2>

<hr>

<h3 id="41-day-to-day-volumes-command">
<a class="anchor" href="#41-day-to-day-volumes-command" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.1 Day To Day Volumes Command</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">docker volume create</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker volume rm</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker volume ls</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker volume inspect</code></li>
</ul>

<hr>

<h3 id="42-types-of-volumes">
<a class="anchor" href="#42-types-of-volumes" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2 Types of Volumes</h3>

<p>The three most common types of storage mounted into containers:</p>

<ul>
  <li>Bind mounts</li>
  <li>In-memory storage</li>
  <li>Docker volumes</li>
</ul>

<h5 id="421-bind-mounts">
<a class="anchor" href="#421-bind-mounts" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.1 Bind Mounts</h5>

<p>Bind mounts are mount points used to remount parts of a filesystem tree onto other locations. When working with containers, bind mounts attach a user-specified location on the host filesystem to a specific point in a container file tree.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
CONF_SRC=~/example.conf; \
CONF_DST=/etc/nginx/conf.d/default.conf;\
LOG_SRC=~/example.log; \
LOG_DST=/var/log/nginx/custom.host.access.log; \
docker run -d --name diaweb \
--mount type=bind,src=${CONF_SRC},dst=${CONF_DST} \
--mount type=bind,src=${LOG_SRC},dst=${LOG_DST} \
-p 80:80 \
nginx:latest

---
</code></pre></div></div>

<h5 id="422-in-memory-storage">
<a class="anchor" href="#422-in-memory-storage" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.2 In-Memory Storage</h5>

<p>Most service software and web applications use private key files, database passwords,
API key files, or other sensitive configuration files, and need upload buffering space.
In these cases, it is important that you never include those types of files in an image or
write them to disk. Instead, you should use in-memory storage. You can add in-memory
storage to containers with a special type of mount.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 1777 permissions in octal
# tmpfs-size=16k
---
memory-based filesystem into a containerdocker run --rm \
--mount type=tmpfs,dst=/tmp,tmpfs-size=16k,tmpfs-mode=1770 \
--entrypoint mount \
alpine:latest -v
---
</code></pre></div></div>

<h5 id="423-docker-volumes">
<a class="anchor" href="#423-docker-volumes" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.3 Docker Volumes</h5>

<p>Docker volumes are named filesystem trees managed by Docker. They can be implemented with disk storage on the host filesystem, or another more exotic backend such as cloud storage. All operations on Docker volumes can be accomplished using the docker volume subcommand set.</p>

<p><a href="http://wiki.hacstac.com:8080/uploads/images/gallery/2020-03/image-1585322379221.png"><img src="http://wiki.hacstac.com:8080/uploads/images/gallery/2020-03/scaled-1680-/image-1585322379221.png" alt=""></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
docker volume create \
--driver local \
--label example=location \
location-example
docker volume inspect \
--format "" \
location-example
---
</code></pre></div></div>

<hr>

<h3 id="43-moving-docker-to-a-different-partition">
<a class="anchor" href="#43-moving-docker-to-a-different-partition" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.3 Moving Docker to a different Partition</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Stop Docker Daemon ( service docker stop )</span>
<span class="nv">$ $ </span>dockerd <span class="nt">-g</span> /home/dockeruser/mydocker
</code></pre></div></div>

<p><strong>Note</strong> : This will wipe all the containers and images from your previous Docker daemon.</p>

<hr>

<h3 id="44-access-filesystem-from-docker-container">
<a class="anchor" href="#44-access-filesystem-from-docker-container" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.4 Access Filesystem from Docker Container</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># This will mount /dotfiles folder to container</span>
<span class="nv">$ </span>docker run <span class="nt">-v</span> /home/hacstac/dotfiles:~/dotfiles <span class="nt">-t</span> debian bash
</code></pre></div></div>

<hr>

<h3 id="45-share-volumes-across-the-internet">
<a class="anchor" href="#45-share-volumes-across-the-internet" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.5 Share Volumes Across the internet</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># In this we use a technology called Resilio</span>
<span class="c"># Example ( 2 Machines ) : Setup Resilio on both Machine - That synchronized a volume ( Connected through a Secret Key )</span>

<span class="c"># Machine 1</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 8888:8888 <span class="nt">-p</span> 55555:55555 <span class="nt">--name</span> resilio ctlc/btsync

<span class="c"># docker logs resilio Or ( Lazy ) -&gt; Use Portainer ( Logs )</span>
<span class="c"># copy secret key</span>

<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--volumes-from</span> resilio ubuntu /bin/bash
<span class="c"># create Data in ubuntu : touch /data/shared_from_server</span>

<span class="c"># Machine 2</span>
<span class="c"># setup resilio client</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">--name</span> resilio-client <span class="nt">-p</span> 8888:8888 <span class="nt">-p</span> 55555:55555 ctlc/btsync key_of_server

<span class="c"># Setup ubuntu</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--volumes-from</span> resilio-client ubuntu /bin/bash
<span class="c"># our data folder is now available in this &amp; if you create a file in here then it will synchronized to Machine 1 also.</span>

</code></pre></div></div>

<hr>

<h3 id="46-using-a-centralized-data-volumes-for-containers">
<a class="anchor" href="#46-using-a-centralized-data-volumes-for-containers" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.6 Using a Centralized Data Volumes For Containers</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create a volume with docker which store a data which you need in other docker containers</span>
<span class="nv">$ </span>docker run <span class="nt">-v</span> /codebase <span class="nt">--name</span> codebase busybox

<span class="c"># access the codebase</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--volumes-from</span> codebase ubuntu /bin/bash
</code></pre></div></div>

<hr>

<h3 id="47-mounting-the-remote-file-systems">
<a class="anchor" href="#47-mounting-the-remote-file-systems" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.7 Mounting the remote file systems</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># This will need FUSE Kernel Module to be loaded on Host OS ( filesystem and userspace )</span>
<span class="c"># Required Root Access ( Danger )</span>

<span class="c"># 4.7.1. SSHFS</span>
<span class="c"># Local Host</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--privileged</span> debian /bin/bash
<span class="c"># Inside a Container</span>
<span class="nv">$ </span><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install </span>sshfs
<span class="nv">$ LOCALPATH</span><span class="o">=</span>/path/to/directory/
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nv">$LOCALPATH</span>
<span class="nv">$ </span>sshfs <span class="nt">-o</span> nonempty user@host:/path/to/directory <span class="nv">$LOCALPATH</span>

<span class="c"># to unmount fusermount -u /path/to/local/directory</span>
<span class="c"># Now the remote folder is mount on LOCALPATH</span>

<span class="c"># 4.7.2 NFS</span>
<span class="c"># Install a NFS on host ( because docker doesn't support NFS )</span>
<span class="nv">$ </span>apt-get <span class="nb">install </span>nfs-kernel-server
<span class="nv">$ </span><span class="nb">mkdir</span> /export
<span class="nv">$ </span><span class="nb">chmod </span>777 /export
<span class="nv">$ </span>mount <span class="nt">--bind</span> /opt/test/db /export

<span class="c"># add this to fstab ( if you want to persist over reboot )</span>
/etc/fstab file: /opt/test/db /export none <span class="nb">bind </span>0 0

<span class="c"># add this to /etc/exports</span>
/export   127.0.0.1<span class="o">(</span>ro,fsid<span class="o">=</span>0,insecure,no_subtree_check,async<span class="o">)</span>
<span class="c"># to Read/Write : change ro to rw &amp; add no_root_squash (After async)</span>
<span class="c"># To open to the internet replace localhost to *</span>
<span class="o">(</span> Danger : Think about it <span class="o">)</span>

<span class="nv">$ </span>mount <span class="nt">-t</span> nfs 127.0.0.1:/export /mnt
<span class="nv">$ </span>exportfs <span class="nt">-a</span>
<span class="nv">$ </span>service nfs-kernel-server restart

<span class="c"># Run a container</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--name</span> nfs-client <span class="nt">--privileged</span> <span class="nt">-v</span> /mnt:/mnt busybox /bin/true

<span class="c"># Mount on other container</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--volumes-from</span> nfs-client debian /bin/bash

</code></pre></div></div>

<hr>

<hr>

<h2 id="50-networks-in-docker">
<a class="anchor" href="#50-networks-in-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.0 Networks in Docker</h2>

<hr>

<h3 id="51-day-to-day-network-commands">
<a class="anchor" href="#51-day-to-day-network-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.1 Day To Day Network Commands</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">docker network create</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker network rm</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker network ls</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker network inspect</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker network connect</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker network disconnect</code></li>
</ul>

<hr>

<h3 id="52-examples">
<a class="anchor" href="#52-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2 Examples</h3>

<h5 id="521-to-list-all-networks">
<a class="anchor" href="#521-to-list-all-networks" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.1 To list all networks</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker network <span class="nb">ls

</span>NETWORK ID          NAME                DRIVER              SCOPE
f32f6d51e8c8        bridge              bridge              <span class="nb">local
</span>366d3d1f4719        hacstac_default     bridge              <span class="nb">local
</span>6c08bddba2c4        host                host                <span class="nb">local
</span>b726554d155b        none                null                <span class="nb">local</span>
</code></pre></div></div>

<h5 id="522-to-create-a-new-network">
<a class="anchor" href="#522-to-create-a-new-network" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.2 To Create a New Network</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker network create <span class="se">\</span>
  <span class="nt">--driver</span> bridge <span class="se">\</span>
  <span class="nt">--label</span> <span class="nv">project</span><span class="o">=</span>dockerinaction <span class="se">\</span>
  <span class="nt">--label</span> <span class="nv">chapter</span><span class="o">=</span>5 <span class="se">\</span>
  <span class="nt">--attachable</span> <span class="se">\</span>
  <span class="nt">--scope</span> <span class="nb">local</span> <span class="se">\</span>
  <span class="nt">--subnet</span> 10.0.42.0/24 <span class="se">\</span>
  <span class="nt">--ip-range</span> 10.0.42.128/25 <span class="se">\</span>
  user-network

<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">--network</span> user-network <span class="se">\</span>
  <span class="nt">--name</span> network-explorer <span class="se">\</span>
  alpine:3.8 <span class="se">\</span>
    sh

<span class="c"># CTRL-P + CTRL-Q Detech</span>
<span class="c"># docker attach network-explorer</span>

<span class="c"># walkthrough</span>
<span class="nv">$ </span>docker network create my_network <span class="o">[</span> Create a Network <span class="o">]</span>
<span class="nv">$ </span>docker network connect my_network blog1 <span class="o">[</span> blog1 container connect to a network my_network <span class="o">]</span>
<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--network</span> my_network ubuntu:16.04 bash <span class="o">[</span> Now this ubuntu container have access to blog1 Container <span class="o">]</span>

<span class="nv">$ </span>ip <span class="nt">-f</span> inet <span class="nt">-4</span> <span class="nt">-o</span> addr // this will list loopback and assign ip subnet address
</code></pre></div></div>

<h5 id="523-create-a-another-bridge-network">
<a class="anchor" href="#523-create-a-another-bridge-network" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.3 Create a another bridge network</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker network create <span class="se">\</span>
  <span class="nt">--driver</span> bridge <span class="se">\</span>
  <span class="nt">--attachable</span> <span class="se">\</span>
  <span class="nt">--scope</span> <span class="nb">local</span> <span class="se">\</span>
  <span class="nt">--subnet</span> 10.0.43.0/24 <span class="se">\</span>
  <span class="nt">--ip-range</span> 10.0.43.128/25 <span class="se">\</span>
  user-network2


<span class="c"># Attach priviously created container attach to this network</span>
<span class="nv">$ </span>docker network connect <span class="se">\</span>
  user-network2 <span class="se">\</span>
  network-explorer

<span class="c"># then this container lists two ethernet addresses</span>

<span class="c"># scan with nmap</span>
<span class="nv">$ </span>nmap <span class="nt">-sn</span> 10.0.42.<span class="k">*</span> <span class="nt">-sn</span> 10.0.43.<span class="k">*</span> <span class="nt">-oG</span> /dev/stdout | <span class="nb">grep </span>Status
</code></pre></div></div>

<h5 id="524-with-network---none--means-container-with-no-external-excess">
<a class="anchor" href="#524-with-network---none--means-container-with-no-external-excess" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.4 With Network - none : Means container with no external excess</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--network</span> none <span class="se">\</span>
    alpine:3.8 <span class="se">\</span>
    ping <span class="nt">-w</span> 2 1.1.1.1
<span class="c"># it will try to ping 1.1.1.1 but it failed because this container hace no external network access</span>

<span class="c"># NodePort Publishing</span>
<span class="c"># 8080:8000 will denote 8080 port of host machine and 8000 port of container</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 8080 <span class="nt">--name</span> listener alpine:3.8
<span class="nv">$ </span>docker port listener // To view port of running container
</code></pre></div></div>

<h5 id="525-dns-with-docker">
<a class="anchor" href="#525-dns-with-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.5 DNS with docker</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Feature 1 : --hostname will add hostname : so we open with DN</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--hostname</span> barker <span class="se">\</span>
    alpine:3.8 <span class="se">\</span>
    nslookup barker

<span class="nt">---</span>
Server:    10.0.2.3
Address 1: 10.0.2.3

Name:      barker
Address 1: 172.17.0.22 barker
<span class="nt">----</span>

<span class="c"># Feature 2 : --dns : set dns server on container</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--dns</span> 8.8.8.8 <span class="se">\</span>
    alpine:3.8 <span class="se">\</span>
    nslookup docker.com

<span class="c"># Feature 3 : --dns-search : allows us to specify a DNS searchdomain,  which  is  like  a  default  hostname  suffix</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--dns-search</span> docker.com <span class="se">\</span>
    <span class="nt">--dns</span> 1.1.1.1 <span class="se">\</span>
    alpine:3.8 <span class="nb">cat</span> /etc/resolv.conf
<span class="c"># Will display contents that look like:</span>
<span class="c"># search docker.com</span>
<span class="c"># nameserver 1.1.1.1</span>

<span class="c"># Feature 4 : --add-host</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--hostname</span> mycontainer <span class="se">\</span>
    <span class="nt">--add-host</span> docker.com:127.0.0.1 <span class="se">\</span>
    <span class="nt">--add-host</span> <span class="nb">test</span>:10.10.10.2 <span class="se">\</span>
    alpine:3.8 <span class="se">\</span>
    <span class="nb">cat</span> /etc/hosts

<span class="nt">---</span>
172.17.0.45  mycontainer
127.0.0.1    localhost
::1          localhost ip6-localhost ip6-loopbackfe00
::0          ip6-localnetff00::0      ip6-mcastprefixff02
::1          ip6-allnodesff02::2      ip6-allrouters
10.10.10.2   <span class="nb">test
</span>127.0.0.1   docker.com
<span class="nt">---</span>
</code></pre></div></div>

<h5 id="526-you-can-specify-a-specific-ip-address-for-a-container">
<a class="anchor" href="#526-you-can-specify-a-specific-ip-address-for-a-container" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.6 You can specify a specific IP address for a container</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># create a new bridge network with your subnet and gateway for your ip block</span>
<span class="nv">$ </span>docker network create <span class="nt">--subnet</span> 203.0.113.0/24 <span class="nt">--gateway</span> 203.0.113.254 iptastic

<span class="c"># run a nginx container with a specific ip in that block</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--net</span> iptastic <span class="nt">--ip</span> 203.0.113.2 nginx

<span class="c"># curl the ip from any other place (assuming this is a public ip block duh)</span>
<span class="nv">$ </span>curl 203.0.113.2
</code></pre></div></div>

<h5 id="527-open-a-docker-daemon-to-the-world">
<a class="anchor" href="#527-open-a-docker-daemon-to-the-world" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.7 Open a Docker Daemon to the World</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># first of stop the docker service</span>
<span class="nv">$ </span><span class="nb">sudo </span>service docker stop / or
<span class="nv">$ </span><span class="nb">sudo </span>systemctl stop docker

<span class="c"># Checks for docker daemon ??</span>
<span class="nv">$ </span> ps <span class="nt">-ef</span> | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s1">'docker(d| -d| daemon)\b'</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="nb">grep</span>

<span class="c"># Expose to local host : 2375</span>
<span class="nv">$ </span><span class="nb">sudo </span>docker daemon <span class="nt">-H</span> tcp://0.0.0.0:2375

<span class="c"># To connect</span>
<span class="nv">$ </span>docker <span class="nt">-H</span> tcp://&lt;your host<span class="s1">'s ip&gt;:2375 &lt;subcommand&gt;
</span></code></pre></div></div>

<h5 id="528-get-an-ip--ports-of-a-docker-container">
<a class="anchor" href="#528-get-an-ip--ports-of-a-docker-container" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2.8 Get an IP &amp; Ports of a Docker Container</h5>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">alias </span><span class="nv">dl</span><span class="o">=</span><span class="s1">'docker ps -l -q'</span>  <span class="o">(</span> latest container ID <span class="o">)</span>
<span class="nv">$ </span>docker inspect <span class="si">$(</span>dl<span class="si">)</span> | <span class="nb">grep</span> <span class="nt">-wm1</span> IPAddress | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s1">'"'</span> <span class="nt">-f</span> 4
Pass <span class="o">(</span> ID of container Instead of dl <span class="o">)</span> : this above <span class="nb">command </span>gives ip of latest container

<span class="c"># get ports</span>
<span class="nv">$ </span>docker inspect <span class="nt">-f</span> <span class="s1">'  -&gt;  '</span> 274d2292a137 | name_of_container
</code></pre></div></div>

<hr>

<hr>

<h2 id="60-limiting-risk-with-resource-controls">
<a class="anchor" href="#60-limiting-risk-with-resource-controls" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.0 Limiting Risk with Resource Controls</h2>

<hr>

<h3 id="61-memory-limits">
<a class="anchor" href="#61-memory-limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.1 Memory Limits</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>docker container run <span class="nt">-d</span> <span class="nt">--name</span> ch6_mariadb <span class="se">\</span>
    <span class="nt">--memory</span> 256m <span class="se">\</span>
    <span class="nt">--cpu-shares</span> 1024 <span class="se">\</span>
    <span class="nt">--cap-drop</span> net_raw <span class="se">\</span>
    <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span><span class="nb">test</span> <span class="se">\</span>
    mariadb:5.5

<span class="c"># This container only uses the 256M memory</span>
</code></pre></div></div>

<hr>

<h3 id="62-cpu-limits">
<a class="anchor" href="#62-cpu-limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.2 CPU Limits</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker container run <span class="nt">-d</span> <span class="nt">-P</span> <span class="nt">--name</span> ch6_wordpress <span class="se">\</span>
<span class="nt">--memory</span> 512m <span class="se">\</span>
<span class="nt">--cpu-shares</span> 512 <span class="se">\</span>
<span class="nt">--cap-drop</span> net_raw <span class="se">\</span>
<span class="nt">--link</span> ch6_mariadb:mysql <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span><span class="nb">test</span> <span class="se">\</span>
wordpress:5.0.0-php7.2-apache
<span class="c"># if total cpu share is 1536 - 512 ( 33% ) : this container consume 33% of cpu shares</span>

<span class="nv">$ </span>docker container run <span class="nt">-d</span> <span class="nt">-P</span> <span class="nt">--name</span> ch6_wordpress <span class="se">\</span>
<span class="nt">--memory</span> 512m <span class="se">\</span>
<span class="nt">--cpus</span> 0.75 <span class="se">\</span>
<span class="nt">--cap-drop</span> net_raw <span class="se">\</span>
<span class="nt">--link</span> ch6_mariadb:mysql <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span><span class="nb">test</span> <span class="se">\</span>
wordpress:5.0.0-php7.2-apache
<span class="c"># This Container : consumed max 75% of cpu cores</span>
<span class="c"># also we can use {--cpuset-cpus 0-4} (cores)</span>
</code></pre></div></div>

<hr>

<h3 id="63-access-to-devices">
<a class="anchor" href="#63-access-to-devices" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.3 Access to devices</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker container run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--device</span> /dev/video0:/dev/video0 <span class="se">\</span>
    ubuntu:16.04 <span class="nb">ls</span> <span class="nt">-al</span> /dev
<span class="c"># --device flag will mount external device to container</span>
</code></pre></div></div>

<hr>

<h3 id="64-sharing-memory--ipc--interprocess-communication-">
<a class="anchor" href="#64-sharing-memory--ipc--interprocess-communication-" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.4 Sharing Memory ( IPC : Interprocess Communication )</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Producer</span>
<span class="nv">$ </span>docker container run <span class="nt">-d</span> <span class="nt">-u</span> nobody <span class="nt">--name</span> ch6_ipc_producer <span class="se">\</span>
    <span class="nt">--ipc</span> shareable <span class="se">\</span>
    dockerinaction/ch6_ipc <span class="nt">-producer</span>

<span class="c"># Consumer</span>
<span class="nv">$ </span>docker container run <span class="nt">-d</span> <span class="nt">--name</span> ch6_ipc_consumer <span class="se">\</span>
    <span class="nt">--ipc</span> container:ch6_ipc_producer <span class="se">\</span>
    dockerinaction/ch6_ipc <span class="nt">-consumer</span>

<span class="c"># we can see the process of one container in another : by using docker logs { they share the memory space }</span>

<span class="c"># IMP NOTE : In docker to clean Volumes</span>
<span class="nv">$ </span>docker <span class="nb">rm</span> <span class="nt">-vf</span> name_of_container
</code></pre></div></div>

<hr>

<h3 id="65-understanding-users">
<a class="anchor" href="#65-understanding-users" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.5 Understanding Users</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># if we want to setup a container with diff user then</span>
<span class="nv">$ </span>docker container run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--user</span> nobody <span class="se">\</span>
    busybox:1.29 <span class="nb">id</span>

<span class="nv">$ </span>docker container run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">-u</span> 1000:1000 <span class="se">\</span>
    busybox:1.29 <span class="se">\</span>
    /bin/bash <span class="nt">-c</span> <span class="s2">"echo This is important info &gt; /logFiles/important.log"</span>
<span class="c"># with this userID:GroupID we can access the file system of this users</span>
</code></pre></div></div>

<hr>

<h3 id="66-os-features-access-with-capabilities">
<a class="anchor" href="#66-os-features-access-with-capabilities" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.6 OS features Access with Capabilities</h3>

<p>Linux capabilities can be set by using cap-add and cap-drop. See <a href="https://docs.docker.com/engine/reference/run/#/runtime-privilege-and-linux-capabilities">https://docs.docker.com/engine/reference/run/#/runtime-privilege-and-linux-capabilities</a> for details. This should be used for greater security.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
SYS_MODULE —Insert/remove kernel modules
SYS_RAWIO — Modify kernel memory
SYS_NICE — Modify priority of processes
SYS_RESOURCE — Override resource limits
SYS_TIME — Modify the system clock
AUDIT_CONTROL — Configure audit subsystem
MAC_ADMIN — Configure MAC configuration
SYSLOG — Modify kernel print behavior
NET_ADMIN — Configure the network
SYS_ADMIN — Catchall <span class="k">for </span>administrative functions
<span class="nt">---</span>

<span class="nv">$ </span>docker container run <span class="nt">--rm</span> <span class="nt">-u</span> nobody <span class="se">\</span>
    <span class="nt">--cap-add</span> sys_admin <span class="se">\</span>
    ubuntu:16.04 <span class="se">\</span>
    /bin/bash <span class="nt">-c</span> <span class="s2">"capsh --print | grep sys_admin"</span>

<span class="c"># this --cap-add sys_admin will add admin facilities to container</span>
<span class="c"># we can inspect docker with .HostConfig.CapAdd &amp;&amp; .HostConfig.CapDrop show capabilities</span>

<span class="c"># Give access to a single device:</span>

<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--device</span><span class="o">=</span>/dev/ttyUSB0 debian bash

<span class="c"># Give access to all devices:</span>

<span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--privileged</span> <span class="nt">-v</span> /dev/bus/usb:/dev/bus/usb debian bash

<span class="c"># Docker Container with full privileges</span>
<span class="nv">$ </span>docker container run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--privileged</span> <span class="se">\</span>
    ubuntu:16.04 capsh <span class="nb">ls</span> /dev
<span class="c"># check out list of mounted devices</span>
</code></pre></div></div>

<hr>

<h3 id="67-additional-security-with-docker">
<a class="anchor" href="#67-additional-security-with-docker" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.7 Additional Security with Docker</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker container run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="se">\</span>
    <span class="nt">--security-opt</span> <span class="nv">seccomp</span><span class="o">=</span>path_to_the_secomp conf file <span class="se">\</span>
    ubuntu:16.04 sh

<span class="c"># For Linux Security Modules ( LSM )</span>

<span class="nt">---</span>
The LSM security option values are specified <span class="k">in </span>one of seven formats:

- To prevent a container from gaining new privileges after it starts, use
<span class="s1">'no-new-privileges'</span>

- To  <span class="nb">set  </span>a  SELinux  user  label,  use  the  form
<span class="nv">label</span><span class="o">=</span>user:username, where is the name of the user you want to use <span class="k">for </span>the label.

- To <span class="nb">set </span>a SELinux role label, use the form  <span class="nv">label</span><span class="o">=</span>role:role where is the name of the role you want to apply to processes <span class="k">in </span>the container.

- To <span class="nb">set </span>a SELinux <span class="nb">type </span>label, use the form <span class="nv">label</span><span class="o">=</span><span class="nb">type</span>:type , where is the <span class="nb">type </span>name of the processes <span class="k">in </span>the container.
- To <span class="nb">set </span>a SELinux-level label, use the form <span class="s1">'label:level:label'</span> , where is the level at which processes <span class="k">in </span>the container should run. Levels are specified as  low-high  pairs.  Where  abbreviated  to  the  low  level  only,  SELinux  will  inter-pret the range as single level.

- To disable SELinux label confinement <span class="k">for </span>a container, use the form
<span class="nv">label</span><span class="o">=</span>disable

<span class="c"># NOTE : Avoid Running Containers in privileged mode whenever possible</span>
</code></pre></div></div>

<hr>

<h3 id="68-using-socat-to-monitor-docker-api-traffic">
<a class="anchor" href="#68-using-socat-to-monitor-docker-api-traffic" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.8 Using Socat to monitor docker api traffic</h3>

<p>In this technique you’ll insert a proxy Unix domain socket between your request and the server’s socket to see what passes through it. Note that you’ll need root or sudo privileges to make this work.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># We need a socat ( Install socat as per the OS package Maneger )</span>

<span class="nv">$ </span>socat <span class="nt">-v</span> UNIX-LISTEN:/tmp/dockerapi.sock,fork <span class="se">\U</span>NIX-CONNECT:/var/run/docker.sock &amp;

In this <span class="nb">command</span>, <span class="nt">-v</span> makes the output readable, with indications of the flow of data.The UNIX-LISTEN part tells socat to listen on a Unix socket, fork ensures that socatdoesn’t  <span class="nb">exit  </span>after  the  first  request,  and  UNIX-CONNECT  tells  socat  to  connect  toDocker’s  Unix  socket.  The  &amp;  specifies  that  the  <span class="nb">command  </span>runs  <span class="k">in  </span>the  background.If you usually run the Docker client with <span class="nb">sudo</span>, you’ll need to <span class="k">do </span>the same thing here as well.

<span class="c"># List all containers</span>
<span class="nv">$ </span>docker <span class="nt">-H</span> unix:///tmp/dockerapi.sock ps <span class="nt">-a</span>
<span class="c"># This will show how client request to daemon</span>
</code></pre></div></div>

<hr>

<h3 id="69-setting-timezone-in-containers">
<a class="anchor" href="#69-setting-timezone-in-containers" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.9 Setting TimeZone in Containers</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Runs a command to display the time zone on the host</span>
<span class="nv">$ </span><span class="nb">date</span> +%Z // UTC

<span class="c"># change TimeZone</span>
<span class="nt">---</span>
FROM centos:7
RUN <span class="nb">rm</span> <span class="nt">-rf</span> /etc/localtime
RUN <span class="nb">ln</span> <span class="nt">-s</span> /usr/share/zoneinfo/Asia/Kolkata /etc/localtime
CMD <span class="nb">date</span> +%Z
<span class="nt">---</span>

<span class="c"># Build Image</span>
<span class="nv">$ </span>docker build <span class="nt">-t</span> timezone_change <span class="nb">.</span>
<span class="nv">$ </span>docker run timezone_change
Asia/Kolkata
</code></pre></div></div>

<hr>

<h3 id="610-locale-management">
<a class="anchor" href="#610-locale-management" aria-hidden="true"><span class="octicon octicon-link"></span></a>6.10 Locale Management</h3>

<p>locale will be set in the environment through the LANG,LANGUAGE, and locale-gen variables</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># you are getting encoding error if correct locale is not set.</span>

<span class="c"># Check for locale</span>
<span class="nv">$ </span><span class="nb">env</span> | <span class="nb">grep </span>LANG
<span class="nv">LANG</span><span class="o">=</span>en_GB.UTF-8
This is British English, with text encoded <span class="k">in </span>UTF-8.

<span class="c"># Set Locale</span>
<span class="nt">---</span>
FROM ubuntu:16.04
RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> locales
RUN locale-gen en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US:en
CMD <span class="nb">env</span>
<span class="nt">---</span>
<span class="nv">$ $ </span>docker build <span class="nt">-t</span> encoding <span class="nb">.</span>

</code></pre></div></div>

<hr>

<hr>

  </div><a class="u-url" href="/Notes/markdown/2020/08/29/Docker-Easy-Parts.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/Notes/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/Notes/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/Notes/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/Notes/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/Notes/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
